# Solar Logistics - 太陽系補給線マネジメント

太陽系を舞台にした拠点最適化ゲーム。プレイヤーは太陽系物流公社の責任者として、限られた予算で全コロニーに物資を届ける最適な補給デポ網を構築します。

## 🎮 ゲームについて

### コンセプト
2150年、人類は太陽系全域に進出した。月から土星まで、様々な惑星・衛星にコロニーが建設されている。あなたの使命は、これらすべてのコロニーに生命維持物資、燃料、建設資材を届ける効率的な物流網を構築することだ。

### 特徴
- **数理最適化**: p-メディアン問題、施設配置問題などのアルゴリズムを実装
- **リアルな太陽系**: 実際の惑星軌道データに基づいた距離計算
- **動的な環境**: 惑星は時間とともに公転し、距離が変化する
- **戦略的経営**: 予算管理、満足度管理、最適配置の提案機能

## 🚀 技術スタック

- **フレームワーク**: Next.js 15 (App Router)
- **言語**: TypeScript
- **スタイリング**: Tailwind CSS
- **デプロイ**: Vercel

## 📦 インストール

```bash
# リポジトリをクローン
git clone https://github.com/yourusername/solar-logistics.git
cd solar-logistics

# 依存関係をインストール
npm install

# 開発サーバーを起動
npm run dev
```

ブラウザで [http://localhost:3000](http://localhost:3000) を開いてゲームを開始できます。

## 🎯 遊び方

### 基本ルール

1. **初期状態**: 予算10,000クレジットでゲーム開始
2. **目標**: 全コロニーの満足度を維持しながら、効率的な物流網を構築
3. **ターン制**: 1ターン = 1ヶ月

### アクション

#### デポの建設
- **建設地点**: 地球軌道、火星、ケレス、ベスタ、イオ、ガニメデ、タイタン
- **デポタイプ**:
  - 小型中継点: 500cr (維持費: 20cr/月)
  - 標準デポ: 1,500cr (維持費: 60cr/月)
  - 大型ハブ: 4,000cr (維持費: 150cr/月)
  - 特殊施設: 3,000cr (維持費: 100cr/月)

#### 最適配置の提案
「最適配置を提案」ボタンをクリックすると、現在の予算で最適なデポ配置を自動計算します。

#### 自動補給
各ターン終了時、在庫が不足しているコロニーへ自動的に物資が送られます。

### スコア指標

- **配送達成率**: 各コロニーの需要を満たしている割合
- **コスト効率**: 予算の健全性
- **顧客満足度**: 全コロニーの平均満足度
- **総合スコア**: 上記3つの加重平均

## 🔧 プロジェクト構造

```
solar-logistics/
├── app/
│   ├── page.tsx              # メインゲーム画面
│   ├── layout.tsx            # ルートレイアウト
│   └── globals.css           # グローバルスタイル
├── components/
│   └── SolarSystemMap.tsx    # 太陽系マップコンポーネント
├── lib/
│   ├── types.ts              # TypeScript型定義
│   ├── solarSystemData.ts    # 太陽系データ
│   ├── optimizer.ts          # 最適化アルゴリズム
│   └── gameLogic.ts          # ゲームロジック
└── README.md
```

## 🧮 実装されている最適化アルゴリズム

### 1. 貪欲法 (Greedy Algorithm)
各ステップで最も多くのコロニーをカバーできる地点を選択する近似アルゴリズム。

### 2. p-メディアン問題の交換法
総輸送コストを最小化するp個の施設を選択する反復改善アルゴリズム。

### 3. 距離計算
余弦定理を使用した2天体間の距離計算：
```typescript
distance = √(r₁² + r₂² - 2r₁r₂cos(θ))
```

### 4. 配置評価
- 建設コスト
- 年間維持費
- 年間輸送コスト
- カバー率
- 平均配送距離

## 🌍 Vercelへのデプロイ

### 方法1: GitHub連携（推奨）

1. GitHubにリポジトリをプッシュ
```bash
git init
git add .
git commit -m "Initial commit: Solar Logistics game"
git branch -M main
git remote add origin https://github.com/yourusername/solar-logistics.git
git push -u origin main
```

2. [Vercel](https://vercel.com)にアクセス
3. 「New Project」をクリック
4. GitHubリポジトリをインポート
5. デプロイ設定を確認（デフォルトでOK）
6. 「Deploy」をクリック

### 方法2: Vercel CLI

```bash
# Vercel CLIをインストール
npm i -g vercel

# デプロイ
vercel

# 本番環境へデプロイ
vercel --prod
```

## 📚 今後の実装予定

- [ ] イベントシステム（太陽フレア、小惑星衝突など）
- [ ] 技術ツリー（輸送技術、デポ技術の研究）
- [ ] 複数の難易度レベル
- [ ] セーブ/ロード機能
- [ ] リアルタイム軌道計算（ホーマン遷移軌道）
- [ ] サウンドエフェクト
- [ ] チュートリアルモード
- [ ] リーダーボード

## 🤝 コントリビューション

プルリクエストを歓迎します！大きな変更の場合は、まずissueを開いて変更内容を議論してください。

## 📝 ライセンス

MIT License

## 🙏 謝辞

- 太陽系データ: NASA JPL Horizons System
- アルゴリズム参考: "Facility Location: Applications and Theory" (Drezner & Hamacher)

---

**楽しんでプレイしてください！太陽系の物流をあなたの手で最適化しましょう！**
